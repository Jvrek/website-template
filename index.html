<!doctype html>
<html lang="en" class="index-page">
  <head>
    <meta charset="UTF-8" />
    <title>Let's glow beauty salon</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="icon" href="favicon.ico" sizes="any" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link href="css/index.css" rel="stylesheet" />
    <script defer="defer" src="./js/app.js"></script>
  </head>
  <body>
    <div class="maincontainer" id="maincontainer">
      <div class="image image-a" data-href="kosmetologia.html">
        <img src="assets/img/kosmetologia.jpg" alt="Kosmetologia" />
        <div class="text">Kosmetologia</div>
      </div>
      <div class="image image-b" data-href="fryzjerstwo.html">
        <img src="assets/img/fryzjerstwo.jpg" alt="Fryzjerstwo" />
        <div class="text">Fryzjerstwo</div>
      </div>
      <div class="divider"></div>
      <div class="logo">Let's glow beauty salon</div>
    </div>
    <script>
      const images = document.querySelectorAll('.image');
      const maincontainer = document.getElementById('maincontainer');

      images.forEach((image) => {
        // Handle hover events
        image.addEventListener('mouseenter', () => {
          if (maincontainer.classList.contains('animating')) return;
          image.classList.add('hovered');
          maincontainer.classList.add('hover-active');
        });

        image.addEventListener('mouseleave', () => {
          if (maincontainer.classList.contains('animating')) return;
          image.classList.remove('hovered');
          maincontainer.classList.remove('hover-active');
        });

        // For touch devices
        image.addEventListener('touchstart', () => {
          if (maincontainer.classList.contains('animating')) return;
          images.forEach((img) => img.classList.remove('hovered'));
          image.classList.add('hovered');
          maincontainer.classList.add('hover-active');
        });

        // Prevent touchend from triggering click immediately
        image.addEventListener('touchend', (e) => {
          e.preventDefault();
          image.click();
        });

        // Click event
        image.addEventListener('click', function () {
          // Prevent multiple clicks
          if (maincontainer.classList.contains('animating')) return;

          // Add animating class
          maincontainer.classList.add('animating');
          this.classList.add('clicked');

          // Get the target URL
          const targetUrl = this.getAttribute('data-href');

          // After animation ends, navigate to the target URL
          setTimeout(() => {
            window.location.href = targetUrl;
          }, 800); // Duration should match the CSS transition duration
        });
      });

      // Close any hovered state when tapping